
        // ... (نهاية الكود الخاص بدوال fetchUserCountry و openWhatsApp)

        // تنفيذ الدوال عند تحميل الصفحة
        populateCountries();
        fetchUserCountry();

        // ************** التعديل النهائي لـ Service Worker **************
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // نستخدم مساراً نسبياً و نعتمد على النطاق الافتراضي
                navigator.serviceWorker.register('sw.js')
                    .then((registration) => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch((err) => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
        // ************************************************************
    </script>
</body>
</html>
